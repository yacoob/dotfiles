**/*.src.ini

# git oauth helper
{{ if not (lookPath "git-credential-oauth") -}}
.gitconfig.oauth
{{- end }}

# zsh completions
{{ if not (lookPath "chezmoi_modify_manager") -}}
.zsh/completion/_chezmoi_modify_manager
{{- end }}
{{ if not (lookPath "jj") -}}
.zsh/completion/_jj
{{- end }}
{{ if not (lookPath "starship") -}}
.zsh/completion/_starship
{{- end }}

# podman image prefetching
#
# cache yacoob/interactive:{base,devenv} on onyx and snufkin
{{ if not (and (has .chezmoi.hostname (list "onyx" "snufkin")) (eq .chezmoi.username "yacoob")) -}}
.config/containers/systemd/prefetch-image@interactive-*
.config/systemd/user/timers.target.wants/prefetch-image@interactive-*.timer
.config/systemd/user/prefetch-image@interactive-*.timer
{{- end }}

# cache yacoob/beets:latest on tentakl
{{ if not (and (has .chezmoi.hostname (list "tentakl")) (eq .chezmoi.username "yacoob")) -}}
.config/containers/systemd/prefetch-image@beets-latest*
.config/systemd/user/timers.target.wants/prefetch-image@beets-latest.timer
.config/systemd/user/prefetch-image@beets-latest.timer
{{- end }}

# skip authorized keys if marker is present
{{ if stat (joinPath .chezmoi.homeDir ".ssh/skip-chezmoi-authorized-keys") }}
.ssh/authorized_keys
{{ end }}
